<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:fragment="status(submission)" th:switch="${submission.status.name}">
    <span th:case="'QUEUED'" class="badge bg-secondary">
        Queued
    </span>
    <span th:case="'GRADING'" class="badge bg-info">
        Grading...
    </span>
    <span th:case="'GRADED'" class="badge bg-primary">
        Graded
    </span>
    <span th:case="'ERROR'" class="badge bg-danger">
        Error
    </span>
</th:block>

<th:block th:fragment="result(submission)">
    <span th:if="${submission == null || !submission.hasResult}">â€”</span>
    <th:block th:if="${submission != null && submission.hasResult}">
        <span th:if="${!submission.result.compiled}" class="badge bg-danger">
            Compile errors
        </span>
        <span th:if="${submission.result.compiled && submission.result.totalTests == 0}" class="badge bg-secondary">
            No tests
        </span>
        <span th:if="${submission.result.compiled && submission.result.totalTests > 0}"
              class="test-bar d-inline-block align-middle" style="width: 8rem; height: 1rem;">
            <span class="passed d-inline-block" style="width: 50%;"
                  th:style="|width: ${submission.result.passedTestsRatio * 100}%;|"></span>
        </span>
    </th:block>
</th:block>
</html>
